{{ template "_internal/google_analytics.html" . }}
<!--<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>-->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

{{ $front := resources.Get "scripts/front.js" }}
{{ $tabs := resources.Get "scripts/tabs.js" }}
{{ $bundle_js := slice $front $tabs | resources.Concat "js/bundle.js" }}
{{ $bundle := $bundle_js | minify | fingerprint }}

<script src="{{ $bundle.Permalink }}" integrity="{{ $bundle.Data.Integrity }}"></script>

<!-- owl carousel -->
<script src="{{ .Site.BaseURL }}js/owl.carousel.min.js"></script>

<script src="https://unpkg.com/swiper/js/swiper.min.js"></script>

<script>
  // this hooks is being used for handling session entries like personal pages, or session description inside of <a> tag
  // see ie. /schedule
    function gotoLink(e) {
        var target = e.target;
        var url = target && target.getAttribute('data-url');
        if (url) {
            window.location.href = url;
        }
        e.preventDefault();
    }
    function toggleInTableCell(e, doPop) {
        var target = e.currentTarget;
        var url = target && target.getAttribute('data-url');
        var scope = target.parentNode.parentNode.parentNode;
        var images = $.find('img', scope);
        var doAction = doPop?'addClass':'removeClass';
        if ( images.length ) {
            for ( let i = 0; i < images.length; i++ ) {
                var image = images[i];
                var imageContainer = image.parentNode;
                if (image.getAttribute('data-url') === url) {
                    $(imageContainer)[doAction]('organizer-icon-hovered');
                } else {
                    $(imageContainer)[doAction]('organizer-icon-dimmed');
                }
            }
        }
    }




    $('.schedule-session-organizer').click(gotoLink).mouseenter(mouseEnterInTableCell).mouseleave(mouseleave);
    $('.body-author-link').mouseenter(mouseEnterInHomePage).mouseleave(mouseLeaveInHomePage);
    function toggleInHomePage(e, doPop) {
        var target = e.currentTarget;
        var url = target && target.href;
        var scope = target.parentNode.parentNode.parentNode;
        var images = $.find('img', scope);
        var doAction = doPop?'addClass':'removeClass';

        if ( images.length ) {
            for ( let i = 0; i < images.length; i++ ) {
                var image = images[i];
                var imageContainer = image.parentNode;
                if (imageContainer.href === url) {
                    $(imageContainer)[doAction]('organizer-icon-hovered');
                } else {
                    $(imageContainer)[doAction]('organizer-icon-dimmed');
                }
            }
        }

    }

    function mouseEnterInTableCell(e) {
        toggleInTableCell(e, true)
    }
    function mouseleave(e) {
        toggleInTableCell(e, false)
    }
    function mouseEnterInHomePage(e) {
        toggleInHomePage(e, true)
    }
    function mouseLeaveInHomePage(e) {
        toggleInHomePage(e, false)
    }

    

    $('.img-circle').click(gotoLink);
    $('.schedule-session-organizer').click(gotoLink).mouseenter(mouseEnterInTableCell).mouseleave(mouseleave);
    $('.author-link').mouseenter(mouseEnterInHomePage).mouseleave(mouseLeaveInHomePage);


    $(document).ready(function () {
        //initialize swiper when document ready
        var mySwiper = new Swiper ('.swiper-container', {
            loop: true,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            autoplay: {
                delay: 5000,

            }
        })
    });

</script>

